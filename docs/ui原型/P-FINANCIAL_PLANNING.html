<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>金智通 - 财务规划</title>
    <script src="https://unpkg.byted-static.com/coze/space_ppt_lib/1.0.3-alpha.12/lib/tailwindcss.js"></script>
    <script src="https://unpkg.byted-static.com/fortawesome/fontawesome-free/6.7.2/js/all.min.js" data-auto-replace-svg="nest"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#969FFF',
                        secondary: '#5147FF', 
                        accent: '#3E3987',
                        success: '#10B981',
                        warning: '#F59E0B',
                        danger: '#EF4444',
                        info: '#3B82F6',
                        'text-primary': '#1F2937',
                        'text-secondary': '#6B7280',
                        'bg-light': '#F9FAFB',
                        'border-light': '#E5E7EB'
                    },
                    boxShadow: {
                        'card': '0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)',
                        'card-hover': '0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)'
                    }
                }
            }
        }
    </script>
    <style>
        .gradient-bg {
            background: linear-gradient(135deg, #969FFF 0%, #5147FF 100%);
        }
        
        .gradient-card {
            background: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%);
        }
        
        .gradient-text {
            background: linear-gradient(135deg, #969FFF 0%, #5147FF 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .sidebar-item:hover {
            background: linear-gradient(135deg, #969FFF 0%, #5147FF 100%);
            color: white;
        }
        
        .sidebar-item.active {
            background: linear-gradient(135deg, #969FFF 0%, #5147FF 100%);
            color: white;
        }
        
        .plan-card {
            background: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%);
            border: 1px solid #e2e8f0;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .plan-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(150, 159, 255, 0.15);
            border-color: #969FFF;
        }
        
        .plan-card.active {
            border-color: #969FFF;
            box-shadow: 0 4px 12px rgba(150, 159, 255, 0.2);
        }
        
        .progress-bar {
            background: linear-gradient(90deg, #969FFF 0%, #5147FF 100%);
            transition: width 0.3s ease;
        }
        
        .recommendation-card {
            background: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%);
            border: 1px solid #e2e8f0;
            transition: all 0.3s ease;
        }
        
        .recommendation-card:hover {
            transform: translateY(-1px);
            box-shadow: 0 8px 20px rgba(150, 159, 255, 0.1);
        }
    </style>
</head>
<body class="bg-bg-light min-h-screen">
    <!-- 顶部导航栏 -->
    <header id="top-navbar" class="fixed top-0 left-0 right-0 bg-white border-b border-border-light z-50 h-16">
        <div class="flex items-center justify-between h-full px-6">
            <!-- Logo和品牌 -->
            <div id="brand-section" class="flex items-center space-x-3">
                <div class="w-10 h-10 gradient-bg rounded-lg flex items-center justify-center">
                    <i class="fas fa-chart-line text-white text-lg"></i>
                </div>
                <h1 class="text-xl font-bold gradient-text">金智通</h1>
            </div>
            
            <!-- 主导航 -->
            <nav id="main-nav" class="hidden md:flex items-center space-x-8">
                <a href="#" class="text-text-secondary hover:text-primary py-1 transition-colors">首页</a>
                <a href="#" class="text-text-secondary hover:text-primary py-1 transition-colors">记账</a>
                <a href="#" class="text-text-secondary hover:text-primary py-1 transition-colors">分析</a>
                <a href="#" class="text-primary font-medium border-b-2 border-primary py-1">规划</a>
                <a href="#" class="text-text-secondary hover:text-primary py-1 transition-colors">产品</a>
                <a href="#" class="text-text-secondary hover:text-primary py-1 transition-colors">客服</a>
            </nav>
            
            <!-- 用户操作区 -->
            <div id="user-actions" class="flex items-center space-x-4">
                <button id="search-btn" class="p-2 text-text-secondary hover:text-primary transition-colors">
                    <i class="fas fa-search"></i>
                </button>
                <button id="notification-btn" class="p-2 text-text-secondary hover:text-primary transition-colors relative">
                    <i class="fas fa-bell"></i>
                    <span class="absolute -top-1 -right-1 w-3 h-3 bg-danger rounded-full"></span>
                </button>
                <div id="user-profile" class="flex items-center space-x-2 cursor-pointer">
                    <img src="https://s.coze.cn/image/KVBjTOor4Yc/" 
                         alt="用户头像" class="w-8 h-8 rounded-full" data-category="人物">
                    <span class="text-text-primary font-medium">张先生</span>
                    <i class="fas fa-chevron-down text-text-secondary text-sm"></i>
                </div>
            </div>
        </div>
    </header>

    <!-- 主布局容器 -->
    <div id="main-layout" class="flex pt-16">
        <!-- 左侧菜单 -->
        <aside id="sidebar" class="w-64 bg-white border-r border-border-light min-h-screen">
            <nav id="sidebar-nav" class="p-4">
                <ul class="space-y-2">
                    <li>
                        <a href="#" id="nav-home" class="sidebar-item flex items-center space-x-3 px-4 py-3 rounded-lg transition-all text-text-secondary">
                            <i class="fas fa-home text-lg"></i>
                            <span class="font-medium">首页</span>
                        </a>
                    </li>
                    <li>
                        <a href="#" id="nav-accounting" class="sidebar-item flex items-center space-x-3 px-4 py-3 rounded-lg transition-all text-text-secondary">
                            <i class="fas fa-calculator text-lg"></i>
                            <span class="font-medium">智能记账</span>
                        </a>
                    </li>
                    <li>
                        <a href="#" id="nav-analysis" class="sidebar-item flex items-center space-x-3 px-4 py-3 rounded-lg transition-all text-text-secondary">
                            <i class="fas fa-chart-bar text-lg"></i>
                            <span class="font-medium">消费分析</span>
                        </a>
                    </li>
                    <li>
                        <a href="#" id="nav-planning" class="sidebar-item active flex items-center space-x-3 px-4 py-3 rounded-lg transition-all">
                            <i class="fas fa-target text-lg"></i>
                            <span class="font-medium">财务规划</span>
                        </a>
                    </li>
                    <li>
                        <a href="#" id="nav-products" class="sidebar-item flex items-center space-x-3 px-4 py-3 rounded-lg transition-all text-text-secondary">
                            <i class="fas fa-coins text-lg"></i>
                            <span class="font-medium">理财产品</span>
                        </a>
                    </li>
                    <li>
                        <a href="#" id="nav-service" class="sidebar-item flex items-center space-x-3 px-4 py-3 rounded-lg transition-all text-text-secondary">
                            <i class="fas fa-comments text-lg"></i>
                            <span class="font-medium">智能客服</span>
                        </a>
                    </li>
                    <li>
                        <a href="#" id="nav-settings" class="sidebar-item flex items-center space-x-3 px-4 py-3 rounded-lg transition-all text-text-secondary">
                            <i class="fas fa-cog text-lg"></i>
                            <span class="font-medium">个人中心</span>
                        </a>
                    </li>
                </ul>
            </nav>
        </aside>

        <!-- 主内容区 -->
        <main id="main-content" class="flex-1 p-6">
            <!-- 页面头部 -->
            <div id="page-header" class="mb-6">
                <div class="flex items-center justify-between">
                    <div>
                        <h2 class="text-2xl font-bold text-text-primary mb-1">财务规划</h2>
                        <nav id="breadcrumb" class="text-sm text-text-secondary">
                            <span>财务规划</span>
                        </nav>
                    </div>
                    <button id="create-plan-btn" class="gradient-bg text-white px-6 py-2 rounded-lg font-medium hover:shadow-lg transition-all">
                        <i class="fas fa-plus mr-2"></i>
                        创建新规划
                    </button>
                </div>
            </div>

            <!-- 规划方案列表区 -->
            <section id="plan-list-section" class="mb-8">
                <h3 class="text-lg font-semibold text-text-primary mb-4">我的规划方案</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <div id="plan-card-1" class="plan-card rounded-xl p-6" data-plan-id="plan-001">
                        <div class="flex items-center justify-between mb-4">
                            <div class="w-12 h-12 gradient-bg rounded-lg flex items-center justify-center">
                                <i class="fas fa-piggy-bank text-white text-xl"></i>
                            </div>
                            <span class="px-2 py-1 bg-success bg-opacity-20 text-success text-xs rounded-full">进行中</span>
                        </div>
                        <h4 class="text-lg font-semibold text-text-primary mb-2">紧急备用金计划</h4>
                        <p class="text-sm text-text-secondary mb-4">为突发情况准备3-6个月生活费的紧急备用金</p>
                        <div class="mb-4">
                            <div class="flex justify-between text-sm mb-1">
                                <span class="text-text-secondary">完成进度</span>
                                <span class="text-text-primary font-medium">65%</span>
                            </div>
                            <div class="w-full bg-gray-200 rounded-full h-2">
                                <div class="progress-bar h-2 rounded-full" style="width: 65%"></div>
                            </div>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-xs text-text-secondary">目标: ¥50,000</span>
                            <div class="flex space-x-2">
                                <button class="edit-plan-btn text-primary text-sm hover:underline" data-plan-id="plan-001">编辑</button>
                                <button class="delete-plan-btn text-danger text-sm hover:underline" data-plan-id="plan-001">删除</button>
                            </div>
                        </div>
                    </div>

                    <div id="plan-card-2" class="plan-card rounded-xl p-6" data-plan-id="plan-002">
                        <div class="flex items-center justify-between mb-4">
                            <div class="w-12 h-12 bg-warning bg-opacity-20 rounded-lg flex items-center justify-center">
                                <i class="fas fa-home text-warning text-xl"></i>
                            </div>
                            <span class="px-2 py-1 bg-info bg-opacity-20 text-info text-xs rounded-full">规划中</span>
                        </div>
                        <h4 class="text-lg font-semibold text-text-primary mb-2">购房首付储蓄</h4>
                        <p class="text-sm text-text-secondary mb-4">为购买首套住房积累首付款</p>
                        <div class="mb-4">
                            <div class="flex justify-between text-sm mb-1">
                                <span class="text-text-secondary">完成进度</span>
                                <span class="text-text-primary font-medium">25%</span>
                            </div>
                            <div class="w-full bg-gray-200 rounded-full h-2">
                                <div class="progress-bar h-2 rounded-full" style="width: 25%"></div>
                            </div>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-xs text-text-secondary">目标: ¥300,000</span>
                            <div class="flex space-x-2">
                                <button class="edit-plan-btn text-primary text-sm hover:underline" data-plan-id="plan-002">编辑</button>
                                <button class="delete-plan-btn text-danger text-sm hover:underline" data-plan-id="plan-002">删除</button>
                            </div>
                        </div>
                    </div>

                    <div id="plan-card-3" class="plan-card rounded-xl p-6" data-plan-id="plan-003">
                        <div class="flex items-center justify-between mb-4">
                            <div class="w-12 h-12 bg-secondary bg-opacity-20 rounded-lg flex items-center justify-center">
                                <i class="fas fa-graduation-cap text-secondary text-xl"></i>
                            </div>
                            <span class="px-2 py-1 bg-success bg-opacity-20 text-success text-xs rounded-full">已完成</span>
                        </div>
                        <h4 class="text-lg font-semibold text-text-primary mb-2">技能培训基金</h4>
                        <p class="text-sm text-text-secondary mb-4">为职业技能提升和培训课程储备资金</p>
                        <div class="mb-4">
                            <div class="flex justify-between text-sm mb-1">
                                <span class="text-text-secondary">完成进度</span>
                                <span class="text-text-primary font-medium">100%</span>
                            </div>
                            <div class="w-full bg-gray-200 rounded-full h-2">
                                <div class="progress-bar h-2 rounded-full" style="width: 100%"></div>
                            </div>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-xs text-text-secondary">目标: ¥15,000</span>
                            <div class="flex space-x-2">
                                <button class="edit-plan-btn text-primary text-sm hover:underline" data-plan-id="plan-003">编辑</button>
                                <button class="delete-plan-btn text-danger text-sm hover:underline" data-plan-id="plan-003">删除</button>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- 规划详情区 -->
            <section id="plan-detail-section" class="mb-8 hidden">
                <div class="gradient-card rounded-xl p-6 shadow-card">
                    <div class="flex items-center justify-between mb-6">
                        <h3 class="text-lg font-semibold text-text-primary">规划方案详情</h3>
                        <button id="close-detail-btn" class="text-text-secondary hover:text-primary transition-colors">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                    <div id="plan-detail-content">
                        <!-- 动态加载规划详情 -->
                    </div>
                </div>
            </section>

            <!-- 信贷评估与风险分析区 -->
            <section id="credit-assessment" class="mb-8">
                <div class="gradient-card rounded-xl p-6 shadow-card">
                    <h3 class="text-lg font-semibold text-text-primary mb-4">信贷评估</h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                        <div class="text-center">
                            <div class="w-16 h-16 gradient-bg rounded-full flex items-center justify-center mx-auto mb-3">
                                <i class="fas fa-credit-card text-white text-2xl"></i>
                            </div>
                            <h4 class="text-2xl font-bold text-text-primary mb-1">720</h4>
                            <p class="text-sm text-text-secondary">信用评分</p>
                            <p class="text-xs text-success font-medium mt-1">良好</p>
                        </div>
                        
                        <div class="text-center">
                            <div class="w-16 h-16 bg-success bg-opacity-20 rounded-full flex items-center justify-center mx-auto mb-3">
                                <i class="fas fa-shield-alt text-success text-2xl"></i>
                            </div>
                            <h4 class="text-2xl font-bold text-text-primary mb-1">低</h4>
                            <p class="text-sm text-text-secondary">信贷风险</p>
                            <p class="text-xs text-success font-medium mt-1">风险可控</p>
                        </div>
                        
                        <div class="text-center">
                            <div class="w-16 h-16 bg-info bg-opacity-20 rounded-full flex items-center justify-center mx-auto mb-3">
                                <i class="fas fa-percentage text-info text-2xl"></i>
                            </div>
                            <h4 class="text-2xl font-bold text-text-primary mb-1">4.5%</h4>
                            <p class="text-sm text-text-secondary">建议利率</p>
                            <p class="text-xs text-success font-medium mt-1">优惠利率</p>
                        </div>
                        
                        <div class="text-center">
                            <div class="w-16 h-16 bg-warning bg-opacity-20 rounded-full flex items-center justify-center mx-auto mb-3">
                                <i class="fas fa-chart-line text-warning text-2xl"></i>
                            </div>
                            <h4 class="text-2xl font-bold text-text-primary mb-1">¥80K</h4>
                            <p class="text-sm text-text-secondary">建议额度</p>
                            <p class="text-xs text-warning font-medium mt-1">合理利用</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- 储蓄计划推荐区 -->
            <section id="savings-recommendations" class="mb-8">
                <h3 class="text-lg font-semibold text-text-primary mb-4">储蓄计划推荐</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <div class="recommendation-card rounded-xl p-6 shadow-card">
                        <div class="flex items-center justify-between mb-4">
                            <div class="w-12 h-12 bg-success bg-opacity-20 rounded-lg flex items-center justify-center">
                                <i class="fas fa-piggy-bank text-success text-xl"></i>
                            </div>
                            <span class="px-2 py-1 bg-success bg-opacity-20 text-success text-xs rounded-full">稳健</span>
                        </div>
                        <h4 class="text-lg font-semibold text-text-primary mb-2">定期存款计划</h4>
                        <p class="text-sm text-text-secondary mb-4">年化利率2.8%，零风险，适合保守型投资者</p>
                        <div class="flex justify-between items-center">
                            <span class="text-xs text-text-secondary">起存金额: ¥1,000</span>
                            <button class="view-savings-btn text-primary text-sm hover:underline" data-savings-id="savings-001">查看详情</button>
                        </div>
                    </div>
                    
                    <div class="recommendation-card rounded-xl p-6 shadow-card">
                        <div class="flex items-center justify-between mb-4">
                            <div class="w-12 h-12 bg-warning bg-opacity-20 rounded-lg flex items-center justify-center">
                                <i class="fas fa-chart-line text-warning text-xl"></i>
                            </div>
                            <span class="px-2 py-1 bg-warning bg-opacity-20 text-warning text-xs rounded-full">灵活</span>
                        </div>
                        <h4 class="text-lg font-semibold text-text-primary mb-2">货币基金</h4>
                        <p class="text-sm text-text-secondary mb-4">年化利率2.1%，随存随取，流动性极佳</p>
                        <div class="flex justify-between items-center">
                            <span class="text-xs text-text-secondary">起存金额: ¥1</span>
                            <button class="view-savings-btn text-primary text-sm hover:underline" data-savings-id="savings-002">查看详情</button>
                        </div>
                    </div>
                    
                    <div class="recommendation-card rounded-xl p-6 shadow-card">
                        <div class="flex items-center justify-between mb-4">
                            <div class="w-12 h-12 bg-info bg-opacity-20 rounded-lg flex items-center justify-center">
                                <i class="fas fa-target text-info text-xl"></i>
                            </div>
                            <span class="px-2 py-1 bg-info bg-opacity-20 text-info text-xs rounded-full">目标</span>
                        </div>
                        <h4 class="text-lg font-semibold text-text-primary mb-2">目标储蓄</h4>
                        <p class="text-sm text-text-secondary mb-4">自定义储蓄目标，智能提醒，强制储蓄</p>
                        <div class="flex justify-between items-center">
                            <span class="text-xs text-text-secondary">起存金额: ¥100</span>
                            <button class="view-savings-btn text-primary text-sm hover:underline" data-savings-id="savings-003">查看详情</button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- 投资建议区 -->
            <section id="investment-recommendations" class="mb-8">
                <h3 class="text-lg font-semibold text-text-primary mb-4">投资建议</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <div class="recommendation-card rounded-xl p-6 shadow-card">
                        <div class="flex items-center justify-between mb-4">
                            <div class="w-12 h-12 bg-secondary bg-opacity-20 rounded-lg flex items-center justify-center">
                                <i class="fas fa-chart-pie text-secondary text-xl"></i>
                            </div>
                            <span class="px-2 py-1 bg-success bg-opacity-20 text-success text-xs rounded-full">低风险</span>
                        </div>
                        <h4 class="text-lg font-semibold text-text-primary mb-2">稳健混合型基金</h4>
                        <p class="text-sm text-text-secondary mb-4">股债平衡配置，历史年化收益6.5%</p>
                        <div class="flex justify-between items-center">
                            <span class="text-xs text-text-secondary">起投金额: ¥1,000</span>
                            <button class="view-investment-btn text-primary text-sm hover:underline" data-product-id="fund-001">查看产品</button>
                        </div>
                    </div>
                    
                    <div class="recommendation-card rounded-xl p-6 shadow-card">
                        <div class="flex items-center justify-between mb-4">
                            <div class="w-12 h-12 bg-accent bg-opacity-20 rounded-lg flex items-center justify-center">
                                <i class="fas fa-chart-area text-accent text-xl"></i>
                            </div>
                            <span class="px-2 py-1 bg-warning bg-opacity-20 text-warning text-xs rounded-full">中风险</span>
                        </div>
                        <h4 class="text-lg font-semibold text-text-primary mb-2">科技创新ETF</h4>
                        <p class="text-sm text-text-secondary mb-4">聚焦科技成长，长期收益潜力大</p>
                        <div class="flex justify-between items-center">
                            <span class="text-xs text-text-secondary">起投金额: ¥100</span>
                            <button class="view-investment-btn text-primary text-sm hover:underline" data-product-id="etf-001">查看产品</button>
                        </div>
                    </div>
                    
                    <div class="recommendation-card rounded-xl p-6 shadow-card">
                        <div class="flex items-center justify-between mb-4">
                            <div class="w-12 h-12 bg-primary bg-opacity-20 rounded-lg flex items-center justify-center">
                                <i class="fas fa-globe text-primary text-xl"></i>
                            </div>
                            <span class="px-2 py-1 bg-info bg-opacity-20 text-info text-xs rounded-full">分散</span>
                        </div>
                        <h4 class="text-lg font-semibold text-text-primary mb-2">全球配置组合</h4>
                        <p class="text-sm text-text-secondary mb-4">全球化资产配置，分散投资风险</p>
                        <div class="flex justify-between items-center">
                            <span class="text-xs text-text-secondary">起投金额: ¥5,000</span>
                            <button class="view-investment-btn text-primary text-sm hover:underline" data-product-id="portfolio-001">查看产品</button>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // 侧边栏导航点击事件
            document.querySelector('#nav-home').addEventListener('click', function(e) {
                e.preventDefault();
                window.location.href = 'P-HOME.html';
            });

            document.querySelector('#nav-accounting').addEventListener('click', function(e) {
                e.preventDefault();
                window.location.href = 'P-ACCOUNTING.html';
            });

            document.querySelector('#nav-analysis').addEventListener('click', function(e) {
                e.preventDefault();
                window.location.href = 'P-CONSUMPTION_ANALYSIS.html';
            });

            document.querySelector('#nav-products').addEventListener('click', function(e) {
                e.preventDefault();
                window.location.href = 'P-FINANCIAL_PRODUCTS.html';
            });

            document.querySelector('#nav-service').addEventListener('click', function(e) {
                e.preventDefault();
                window.location.href = 'P-CUSTOMER_SERVICE.html';
            });

            document.querySelector('#nav-settings').addEventListener('click', function(e) {
                e.preventDefault();
                window.location.href = 'P-USER_SETTINGS.html';
            });

            // 创建新规划按钮
            document.querySelector('#create-plan-btn').addEventListener('click', function() {
                console.log('创建新规划');
                // 这里可以打开规划创建弹窗或跳转到创建页面
            });

            // 规划方案卡片点击事件
            document.querySelectorAll('.plan-card').forEach(card => {
                card.addEventListener('click', function(e) {
                    // 如果点击的是编辑或删除按钮，不触发卡片点击
                    if (e.target.closest('.edit-plan-btn') || e.target.closest('.delete-plan-btn')) {
                        return;
                    }
                    
                    const planId = this.dataset.planId;
                    showPlanDetail(planId);
                });
            });

            // 编辑规划按钮
            document.querySelectorAll('.edit-plan-btn').forEach(btn => {
                btn.addEventListener('click', function(e) {
                    e.stopPropagation();
                    const planId = this.dataset.planId;
                    console.log('编辑规划:', planId);
                    // 这里可以打开规划编辑弹窗
                });
            });

            // 删除规划按钮
            document.querySelectorAll('.delete-plan-btn').forEach(btn => {
                btn.addEventListener('click', function(e) {
                    e.stopPropagation();
                    const planId = this.dataset.planId;
                    if (confirm('确定要删除这个规划方案吗？')) {
                        console.log('删除规划:', planId);
                        // 这里可以执行删除操作
                    }
                });
            });

            // 关闭规划详情
            document.querySelector('#close-detail-btn').addEventListener('click', function() {
                hidePlanDetail();
            });

            // 储蓄计划查看详情
            document.querySelectorAll('.view-savings-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const savingsId = this.dataset.savingsId;
                    console.log('查看储蓄计划详情:', savingsId);
                    // 这里可以打开储蓄计划详情
                });
            });

            // 投资建议查看产品
            document.querySelectorAll('.view-investment-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const productId = this.dataset.productId;
                    window.location.href = `P-FINANCIAL_PRODUCTS.html?productId=${productId}`;
                });
            });

            // 显示规划详情
            function showPlanDetail(planId) {
                const detailSection = document.querySelector('#plan-detail-section');
                const detailContent = document.querySelector('#plan-detail-content');
                
                // 模拟规划详情数据
                const planDetails = {
                    'plan-001': {
                        title: '紧急备用金计划',
                        target: '¥50,000',
                        current: '¥32,500',
                        progress: 65,
                        description: '为突发情况准备3-6个月生活费的紧急备用金，确保家庭财务安全。',
                        steps: [
                            { title: '开设专用账户', status: '已完成' },
                            { title: '每月定期存款', status: '进行中' },
                            { title: '达到目标金额', status: '待完成' }
                        ]
                    },
                    'plan-002': {
                        title: '购房首付储蓄',
                        target: '¥300,000',
                        current: '¥75,000',
                        progress: 25,
                        description: '为购买首套住房积累首付款，实现安居乐业的目标。',
                        steps: [
                            { title: '确定购房预算', status: '已完成' },
                            { title: '制定储蓄计划', status: '已完成' },
                            { title: '定期存款', status: '进行中' },
                            { title: '达到首付目标', status: '待完成' }
                        ]
                    },
                    'plan-003': {
                        title: '技能培训基金',
                        target: '¥15,000',
                        current: '¥15,000',
                        progress: 100,
                        description: '为职业技能提升和培训课程储备资金，提升个人竞争力。',
                        steps: [
                            { title: '选择培训课程', status: '已完成' },
                            { title: '制定储蓄计划', status: '已完成' },
                            { title: '完成储蓄目标', status: '已完成' },
                            { title: '参加培训课程', status: '已完成' }
                        ]
                    }
                };
                
                const plan = planDetails[planId];
                if (plan) {
                    detailContent.innerHTML = `
                        <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                            <div>
                                <h4 class="text-xl font-semibold text-text-primary mb-4">${plan.title}</h4>
                                <p class="text-text-secondary mb-6">${plan.description}</p>
                                
                                <div class="mb-6">
                                    <div class="flex justify-between text-sm mb-2">
                                        <span class="text-text-secondary">完成进度</span>
                                        <span class="text-text-primary font-medium">${plan.progress}%</span>
                                    </div>
                                    <div class="w-full bg-gray-200 rounded-full h-3">
                                        <div class="progress-bar h-3 rounded-full" style="width: ${plan.progress}%"></div>
                                    </div>
                                </div>
                                
                                <div class="grid grid-cols-2 gap-4">
                                    <div class="text-center p-3 bg-bg-light rounded-lg">
                                        <p class="text-sm text-text-secondary">目标金额</p>
                                        <p class="text-lg font-semibold text-text-primary">${plan.target}</p>
                                    </div>
                                    <div class="text-center p-3 bg-bg-light rounded-lg">
                                        <p class="text-sm text-text-secondary">当前金额</p>
                                        <p class="text-lg font-semibold text-text-primary">${plan.current}</p>
                                    </div>
                                </div>
                            </div>
                            
                            <div>
                                <h5 class="text-lg font-semibold text-text-primary mb-4">执行步骤</h5>
                                <div class="space-y-3">
                                    ${plan.steps.map((step, index) => `
                                        <div class="flex items-center space-x-3 p-3 bg-bg-light rounded-lg">
                                            <div class="w-8 h-8 rounded-full flex items-center justify-center ${step.status === '已完成' ? 'bg-success text-white' : step.status === '进行中' ? 'bg-primary text-white' : 'bg-gray-300 text-gray-600'}">
                                                ${step.status === '已完成' ? '<i class="fas fa-check text-sm"></i>' : index + 1}
                                            </div>
                                            <div class="flex-1">
                                                <p class="text-sm font-medium text-text-primary">${step.title}</p>
                                                <p class="text-xs text-text-secondary">${step.status}</p>
                                            </div>
                                        </div>
                                    `).join('')}
                                </div>
                            </div>
                        </div>
                    `;
                    
                    detailSection.classList.remove('hidden');
                }
            }

            // 隐藏规划详情
            function hidePlanDetail() {
                const detailSection = document.querySelector('#plan-detail-section');
                detailSection.classList.add('hidden');
            }
        });
    </script>
</body>
</html>